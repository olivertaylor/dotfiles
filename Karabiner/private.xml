<?xml version="1.0"?>
<root>

<!--
    Documentation here:
    https://pqrs.org/macosx/keyremap4macbook/xml.html.en
-->

<!-- Set aliases for Apps -->
<appdef>
  <appname>BBEDIT</appname>
  <equal>com.barebones.bbedit</equal>
</appdef>
<appdef>
  <appname>ATOM</appname>
  <equal>com.github.atom</equal>
</appdef>
<appdef>
  <appname>ITERM</appname>
  <equal>com.googlecode.iterm2</equal>
</appdef>
<appdef>
  <appname>MACVIM</appname>
  <equal>org.vim.MacVim</equal>
</appdef>
<appdef>
  <appname>TERMINAL</appname>
  <equal>com.apple.Terminal</equal>
</appdef>

<!-- =============================================================== -->

<item>
    <name>Disable Arrow Keys</name>
    <appendix>Pretty simple really.</appendix>
    <identifier>private.disable_arrows</identifier>
    <autogen>--KeyToKey-- KeyCode::CURSOR_UP,    KeyCode::VK_NONE</autogen>
    <autogen>--KeyToKey-- KeyCode::CURSOR_DOWN,  KeyCode::VK_NONE</autogen>
    <autogen>--KeyToKey-- KeyCode::CURSOR_RIGHT, KeyCode::VK_NONE</autogen>
    <autogen>--KeyToKey-- KeyCode::CURSOR_LEFT,  KeyCode::VK_NONE</autogen>
</item>

<item>
    <name>Remap Fn+HJKL to Arrows</name>
    <appendix>Use Function + vim movement keys instead of arrows.</appendix>
    <identifier>private.fn_vim_arrows</identifier>
    <autogen>--KeyToKey-- KeyCode::H, ModifierFlag::FN, KeyCode::CURSOR_LEFT</autogen>
    <autogen>--KeyToKey-- KeyCode::J, ModifierFlag::FN, KeyCode::CURSOR_DOWN</autogen>
    <autogen>--KeyToKey-- KeyCode::K, ModifierFlag::FN, KeyCode::CURSOR_UP</autogen>
    <autogen>--KeyToKey-- KeyCode::L, ModifierFlag::FN, KeyCode::CURSOR_RIGHT</autogen>
</item>

<item>
  <name>Return to Return/Control_R</name>
  <appendix>(+ When you type Return only, send Return) + [KeyRepeat]</appendix>
  <identifier>private.return2controlR_return_keyrepeat</identifier>
  <autogen>__KeyOverlaidModifierWithRepeat__ KeyCode::RETURN, KeyCode::CONTROL_R, KeyCode::RETURN</autogen>
</item>

<item>
<name>Control_L to Delete/Control_L</name>
  <appendix>(+ When you type Control_L only, send Delete) + [KeyRepeat]</appendix>
  <identifier>private.controlL2controlL_delete_keyrepeat</identifier>
  <autogen>__KeyOverlaidModifierWithRepeat__ KeyCode::CONTROL_L, KeyCode::CONTROL_L, KeyCode::DELETE</autogen>
</item>

<item>
  <name>Use the Correct Shift Keys</name>
  <appendix>Forces correct typing by disabling incorrect shift-letter combinations</appendix>
  <identifier>private.correct_shift_keys</identifier>
  <autogen>--KeyToKey-- KeyCode::Q, ModifierFlag::SHIFT_L | ModifierFlag::NONE, KeyCode::VK_NONE</autogen>
  <autogen>--KeyToKey-- KeyCode::W, ModifierFlag::SHIFT_L | ModifierFlag::NONE, KeyCode::VK_NONE</autogen>
  <autogen>--KeyToKey-- KeyCode::E, ModifierFlag::SHIFT_L | ModifierFlag::NONE, KeyCode::VK_NONE</autogen>
  <autogen>--KeyToKey-- KeyCode::R, ModifierFlag::SHIFT_L | ModifierFlag::NONE, KeyCode::VK_NONE</autogen>
  <autogen>--KeyToKey-- KeyCode::T, ModifierFlag::SHIFT_L | ModifierFlag::NONE, KeyCode::VK_NONE</autogen>
  <autogen>--KeyToKey-- KeyCode::A, ModifierFlag::SHIFT_L | ModifierFlag::NONE, KeyCode::VK_NONE</autogen>
  <autogen>--KeyToKey-- KeyCode::S, ModifierFlag::SHIFT_L | ModifierFlag::NONE, KeyCode::VK_NONE</autogen>
  <autogen>--KeyToKey-- KeyCode::D, ModifierFlag::SHIFT_L | ModifierFlag::NONE, KeyCode::VK_NONE</autogen>
  <autogen>--KeyToKey-- KeyCode::F, ModifierFlag::SHIFT_L | ModifierFlag::NONE, KeyCode::VK_NONE</autogen>
  <autogen>--KeyToKey-- KeyCode::G, ModifierFlag::SHIFT_L | ModifierFlag::NONE, KeyCode::VK_NONE</autogen>
  <autogen>--KeyToKey-- KeyCode::Z, ModifierFlag::SHIFT_L | ModifierFlag::NONE, KeyCode::VK_NONE</autogen>
  <autogen>--KeyToKey-- KeyCode::X, ModifierFlag::SHIFT_L | ModifierFlag::NONE, KeyCode::VK_NONE</autogen>
  <autogen>--KeyToKey-- KeyCode::C, ModifierFlag::SHIFT_L | ModifierFlag::NONE, KeyCode::VK_NONE</autogen>
  <autogen>--KeyToKey-- KeyCode::V, ModifierFlag::SHIFT_L | ModifierFlag::NONE, KeyCode::VK_NONE</autogen>
  <autogen>--KeyToKey-- KeyCode::Y,         ModifierFlag::SHIFT_R | ModifierFlag::NONE, KeyCode::VK_NONE</autogen>
  <autogen>--KeyToKey-- KeyCode::U,         ModifierFlag::SHIFT_R | ModifierFlag::NONE, KeyCode::VK_NONE</autogen>
  <autogen>--KeyToKey-- KeyCode::I,         ModifierFlag::SHIFT_R | ModifierFlag::NONE, KeyCode::VK_NONE</autogen>
  <autogen>--KeyToKey-- KeyCode::O,         ModifierFlag::SHIFT_R | ModifierFlag::NONE, KeyCode::VK_NONE</autogen>
  <autogen>--KeyToKey-- KeyCode::P,         ModifierFlag::SHIFT_R | ModifierFlag::NONE, KeyCode::VK_NONE</autogen>
  <autogen>--KeyToKey-- KeyCode::H,         ModifierFlag::SHIFT_R | ModifierFlag::NONE, KeyCode::VK_NONE</autogen>
  <autogen>--KeyToKey-- KeyCode::J,         ModifierFlag::SHIFT_R | ModifierFlag::NONE, KeyCode::VK_NONE</autogen>
  <autogen>--KeyToKey-- KeyCode::K,         ModifierFlag::SHIFT_R | ModifierFlag::NONE, KeyCode::VK_NONE</autogen>
  <autogen>--KeyToKey-- KeyCode::L,         ModifierFlag::SHIFT_R | ModifierFlag::NONE, KeyCode::VK_NONE</autogen>
  <autogen>--KeyToKey-- KeyCode::SEMICOLON, ModifierFlag::SHIFT_R | ModifierFlag::NONE, KeyCode::VK_NONE</autogen>
  <autogen>--KeyToKey-- KeyCode::QUOTE,     ModifierFlag::SHIFT_R | ModifierFlag::NONE, KeyCode::VK_NONE</autogen>
  <autogen>--KeyToKey-- KeyCode::N,         ModifierFlag::SHIFT_R | ModifierFlag::NONE, KeyCode::VK_NONE</autogen>
  <autogen>--KeyToKey-- KeyCode::M,         ModifierFlag::SHIFT_R | ModifierFlag::NONE, KeyCode::VK_NONE</autogen>
  <autogen>--KeyToKey-- KeyCode::COMMA,     ModifierFlag::SHIFT_R | ModifierFlag::NONE, KeyCode::VK_NONE</autogen>
  <autogen>--KeyToKey-- KeyCode::DOT,       ModifierFlag::SHIFT_R | ModifierFlag::NONE, KeyCode::VK_NONE</autogen>
</item>

<item>
  <name>Use the Correct Control Keys</name>
  <appendix>Forces correct typing by disabling incorrect control-letter combinations</appendix>
  <identifier>private.correct_control_keys</identifier>
  <autogen>--KeyToKey-- KeyCode::Q,         ModifierFlag::CONTROL_L | ModifierFlag::NONE, KeyCode::VK_NONE</autogen>
  <autogen>--KeyToKey-- KeyCode::W,         ModifierFlag::CONTROL_L | ModifierFlag::NONE, KeyCode::VK_NONE</autogen>
  <autogen>--KeyToKey-- KeyCode::E,         ModifierFlag::CONTROL_L | ModifierFlag::NONE, KeyCode::VK_NONE</autogen>
  <autogen>--KeyToKey-- KeyCode::R,         ModifierFlag::CONTROL_L | ModifierFlag::NONE, KeyCode::VK_NONE</autogen>
  <autogen>--KeyToKey-- KeyCode::T,         ModifierFlag::CONTROL_L | ModifierFlag::NONE, KeyCode::VK_NONE</autogen>
  <autogen>--KeyToKey-- KeyCode::A,         ModifierFlag::CONTROL_L | ModifierFlag::NONE, KeyCode::VK_NONE</autogen>
  <autogen>--KeyToKey-- KeyCode::S,         ModifierFlag::CONTROL_L | ModifierFlag::NONE, KeyCode::VK_NONE</autogen>
  <autogen>--KeyToKey-- KeyCode::D,         ModifierFlag::CONTROL_L | ModifierFlag::NONE, KeyCode::VK_NONE</autogen>
  <autogen>--KeyToKey-- KeyCode::F,         ModifierFlag::CONTROL_L | ModifierFlag::NONE, KeyCode::VK_NONE</autogen>
  <autogen>--KeyToKey-- KeyCode::G,         ModifierFlag::CONTROL_L | ModifierFlag::NONE, KeyCode::VK_NONE</autogen>
  <autogen>--KeyToKey-- KeyCode::Z,         ModifierFlag::CONTROL_L | ModifierFlag::NONE, KeyCode::VK_NONE</autogen>
  <autogen>--KeyToKey-- KeyCode::X,         ModifierFlag::CONTROL_L | ModifierFlag::NONE, KeyCode::VK_NONE</autogen>
  <autogen>--KeyToKey-- KeyCode::C,         ModifierFlag::CONTROL_L | ModifierFlag::NONE, KeyCode::VK_NONE</autogen>
  <autogen>--KeyToKey-- KeyCode::V,         ModifierFlag::CONTROL_L | ModifierFlag::NONE, KeyCode::VK_NONE</autogen>
  <autogen>--KeyToKey-- KeyCode::Y,         ModifierFlag::CONTROL_R | ModifierFlag::NONE, KeyCode::VK_NONE</autogen>
  <autogen>--KeyToKey-- KeyCode::U,         ModifierFlag::CONTROL_R | ModifierFlag::NONE, KeyCode::VK_NONE</autogen>
  <autogen>--KeyToKey-- KeyCode::I,         ModifierFlag::CONTROL_R | ModifierFlag::NONE, KeyCode::VK_NONE</autogen>
  <autogen>--KeyToKey-- KeyCode::O,         ModifierFlag::CONTROL_R | ModifierFlag::NONE, KeyCode::VK_NONE</autogen>
  <autogen>--KeyToKey-- KeyCode::P,         ModifierFlag::CONTROL_R | ModifierFlag::NONE, KeyCode::VK_NONE</autogen>
  <autogen>--KeyToKey-- KeyCode::H,         ModifierFlag::CONTROL_R | ModifierFlag::NONE, KeyCode::VK_NONE</autogen>
  <autogen>--KeyToKey-- KeyCode::J,         ModifierFlag::CONTROL_R | ModifierFlag::NONE, KeyCode::VK_NONE</autogen>
  <autogen>--KeyToKey-- KeyCode::K,         ModifierFlag::CONTROL_R | ModifierFlag::NONE, KeyCode::VK_NONE</autogen>
  <autogen>--KeyToKey-- KeyCode::L,         ModifierFlag::CONTROL_R | ModifierFlag::NONE, KeyCode::VK_NONE</autogen>
  <autogen>--KeyToKey-- KeyCode::N,         ModifierFlag::CONTROL_R | ModifierFlag::NONE, KeyCode::VK_NONE</autogen>
  <autogen>--KeyToKey-- KeyCode::M,         ModifierFlag::CONTROL_R | ModifierFlag::NONE, KeyCode::VK_NONE</autogen>
</item>

<item>
  <name>Swap Tab / Delete</name>
  <appendix>Swaps tab with delete, also disables Command_L + Delete, which prevents bad things happening when (without thinking) I press what used to be the old application-switcher shortcut.</appendix>
  <identifier>private.tabswapdelete</identifier>
  <!-- These must go in this order to work properly -->
  <autogen>--KeyToKey-- KeyCode::TAB, ModifierFlag::COMMAND_L, KeyCode::VK_NONE</autogen>
  <autogen>--KeyToKey-- KeyCode::TAB, KeyCode::DELETE</autogen>
  <autogen>--KeyToKey-- KeyCode::DELETE, KeyCode::TAB</autogen>
</item>

<item>
  <name>Brackets to Delete Back/Forward</name>
  <appendix>[ = Delete, ] = Forward Delete. Use Fn+[/] for square brackets.</appendix>
  <identifier>private.brackets2delete</identifier>
  <autogen>--KeyToKey-- KeyCode::BRACKET_LEFT,   | ModifierFlag::NONE, KeyCode::DELETE</autogen>
  <autogen>--KeyToKey-- KeyCode::BRACKET_RIGHT,  | ModifierFlag::NONE, KeyCode::FORWARD_DELETE</autogen>
</item>

</root>
