<?xml version="1.0"?>
<root>

<!--
    Documentation here:
    https://pqrs.org/macosx/keyremap4macbook/xml.html.en
-->

<!-- This sets an alias for BBEdit so I can refer to it later -->
<appdef>
  <appname>BBEDIT</appname>
  <equal>com.barebones.bbedit</equal>
</appdef>

<!-- This sets an alias for Terminal so I can refer to it later -->
<appdef>
  <appname>TERMINAL</appname>
  <equal>com.apple.Terminal</equal>
</appdef>

<!-- This sets an alias for iTerm2 so I can refer to it later -->
<appdef>
  <appname>ITERM</appname>
  <equal>com.googlecode.iterm2</equal>
</appdef>

<!-- This aliases an applescript to something I can reference -->
<vkopenurldef>
  <name>KeyCode::VK_OPEN_URL_SHELL_terminaltab</name>
  <url type="shell">
  <![CDATA[osascript -e 'tell application "iTerm" to activate' && osascript -e 'tell application "System Events" to tell process "iTerm" to keystroke "t" using command down']]>
  </url>
</vkopenurldef>

<!-- =============================================================== -->

<item>
  <name>New Terminal Tab</name>
  <appendix>Control + Option + Space creates new Terminal tab</appendix>
  <identifier>private.terminaltab</identifier>
  <autogen>
    --KeyToKey--
    KeyCode::SPACE, ModifierFlag::CONTROL_L | ModifierFlag::OPTION_L,
    KeyCode::VK_OPEN_URL_SHELL_terminaltab
    </autogen>
</item>

<item>
  <name>BBEdit Vim Control Word-Movement</name>
  <appendix>Remaps a few vim-like cursor movement shortcuts</appendix>
  <identifier>private.vimbbeditword</identifier>
  <only>BBEDIT</only>
  <autogen>
    --KeyToKey--
    KeyCode::E, ModifierFlag::CONTROL_L | ModifierFlag::NONE,
    KeyCode::CURSOR_RIGHT, ModifierFlag::CONTROL_L
  </autogen>
  <autogen>
    --KeyToKey--
    KeyCode::B, ModifierFlag::CONTROL_L | ModifierFlag::NONE,
    KeyCode::CURSOR_LEFT, ModifierFlag::CONTROL_L
  </autogen>
  <autogen>
    --KeyToKey--
    KeyCode::KEY_0, ModifierFlag::CONTROL_L | ModifierFlag::NONE,
    KeyCode::A, ModifierFlag::CONTROL_L
  </autogen>
  <autogen>
    --KeyToKey--
    KeyCode::KEY_4, ModifierFlag::CONTROL_L | ModifierFlag::NONE,
    KeyCode::E, ModifierFlag::CONTROL_L
  </autogen>
</item>


<!-- =============================================================== -->

<item>
  <name>Remap Option_R to Hyper</name>
  <appendix>This maps the Right Option key to Control + Shift + Option + Command.</appendix>
  <identifier>space_cadet.left_control_to_hyper</identifier>
  <autogen>
    --KeyToKey--
    KeyCode::OPTION_R,
    KeyCode::COMMAND_L, ModifierFlag::OPTION_L | ModifierFlag::SHIFT_R | ModifierFlag::CONTROL_L
  </autogen>
</item>


<item>
  <name>Remap Control Arrows/Delete to Option Arrows/Delete</name>
  <appendix>Active in everything *except* BBEdit</appendix>
  <identifier>private.control_arrows_2_option_arrows</identifier>
  <not>BBEDIT</not>
  <autogen>
  --KeyToKey--
  KeyCode::CURSOR_LEFT, ModifierFlag::CONTROL_L | ModifierFlag::NONE,
  KeyCode::CURSOR_LEFT, ModifierFlag::OPTION_L,
  </autogen>
  <autogen>
  --KeyToKey--
  KeyCode::CURSOR_RIGHT, ModifierFlag::CONTROL_L | ModifierFlag::NONE,
  KeyCode::CURSOR_RIGHT, ModifierFlag::OPTION_L,
  </autogen>
  <autogen>
  --KeyToKey--
  KeyCode::DELETE, ModifierFlag::CONTROL_L | ModifierFlag::NONE,
  KeyCode::DELETE, ModifierFlag::OPTION_L,
  </autogen>
</item>

<item>
  <name>Remap Control_L to F5</name>
  <appendix>When you type Control_L only, send F5 - exclude iTerm</appendix>
  <identifier>private.controlL2controlL_f5</identifier>
  <not>ITERM</not>
  <autogen>
    __KeyOverlaidModifier__
    KeyCode::CONTROL_L, KeyCode::CONTROL_L,
    KeyCode::F5
  </autogen>
</item>

<item>
  <name>Remap Control_L to Escape</name>
  <appendix>Active in iTerm</appendix>
  <identifier>private.itermEscape</identifier>
  <only>ITERM</only>
  <autogen>
    __KeyOverlaidModifier__
    KeyCode::CONTROL_L, KeyCode::CONTROL_L,
    KeyCode::ESCAPE
  </autogen>
</item>

<!-- =============================================================== -->

<item>
  <name>Use the Correct Shift Keys</name>
  <appendix>Forces correct typing by disabling incorrect shift-letter combinations</appendix>
  <identifier>private.correct_shift_keys</identifier>

  <autogen>--KeyToKey-- KeyCode::Q, ModifierFlag::SHIFT_L | ModifierFlag::NONE, KeyCode::VK_NONE</autogen>
  <autogen>--KeyToKey-- KeyCode::W, ModifierFlag::SHIFT_L | ModifierFlag::NONE, KeyCode::VK_NONE</autogen>
  <autogen>--KeyToKey-- KeyCode::E, ModifierFlag::SHIFT_L | ModifierFlag::NONE, KeyCode::VK_NONE</autogen>
  <autogen>--KeyToKey-- KeyCode::R, ModifierFlag::SHIFT_L | ModifierFlag::NONE, KeyCode::VK_NONE</autogen>
  <autogen>--KeyToKey-- KeyCode::T, ModifierFlag::SHIFT_L | ModifierFlag::NONE, KeyCode::VK_NONE</autogen>
  <autogen>--KeyToKey-- KeyCode::A, ModifierFlag::SHIFT_L | ModifierFlag::NONE, KeyCode::VK_NONE</autogen>
  <autogen>--KeyToKey-- KeyCode::S, ModifierFlag::SHIFT_L | ModifierFlag::NONE, KeyCode::VK_NONE</autogen>
  <autogen>--KeyToKey-- KeyCode::D, ModifierFlag::SHIFT_L | ModifierFlag::NONE, KeyCode::VK_NONE</autogen>
  <autogen>--KeyToKey-- KeyCode::F, ModifierFlag::SHIFT_L | ModifierFlag::NONE, KeyCode::VK_NONE</autogen>
  <autogen>--KeyToKey-- KeyCode::G, ModifierFlag::SHIFT_L | ModifierFlag::NONE, KeyCode::VK_NONE</autogen>
  <autogen>--KeyToKey-- KeyCode::Z, ModifierFlag::SHIFT_L | ModifierFlag::NONE, KeyCode::VK_NONE</autogen>
  <autogen>--KeyToKey-- KeyCode::X, ModifierFlag::SHIFT_L | ModifierFlag::NONE, KeyCode::VK_NONE</autogen>
  <autogen>--KeyToKey-- KeyCode::C, ModifierFlag::SHIFT_L | ModifierFlag::NONE, KeyCode::VK_NONE</autogen>
  <autogen>--KeyToKey-- KeyCode::V, ModifierFlag::SHIFT_L | ModifierFlag::NONE, KeyCode::VK_NONE</autogen>

  <autogen>--KeyToKey-- KeyCode::Y,         ModifierFlag::SHIFT_R | ModifierFlag::NONE, KeyCode::VK_NONE</autogen>
  <autogen>--KeyToKey-- KeyCode::U,         ModifierFlag::SHIFT_R | ModifierFlag::NONE, KeyCode::VK_NONE</autogen>
  <autogen>--KeyToKey-- KeyCode::I,         ModifierFlag::SHIFT_R | ModifierFlag::NONE, KeyCode::VK_NONE</autogen>
  <autogen>--KeyToKey-- KeyCode::O,         ModifierFlag::SHIFT_R | ModifierFlag::NONE, KeyCode::VK_NONE</autogen>
  <autogen>--KeyToKey-- KeyCode::P,         ModifierFlag::SHIFT_R | ModifierFlag::NONE, KeyCode::VK_NONE</autogen>
  <autogen>--KeyToKey-- KeyCode::H,         ModifierFlag::SHIFT_R | ModifierFlag::NONE, KeyCode::VK_NONE</autogen>
  <autogen>--KeyToKey-- KeyCode::J,         ModifierFlag::SHIFT_R | ModifierFlag::NONE, KeyCode::VK_NONE</autogen>
  <autogen>--KeyToKey-- KeyCode::K,         ModifierFlag::SHIFT_R | ModifierFlag::NONE, KeyCode::VK_NONE</autogen>
  <autogen>--KeyToKey-- KeyCode::L,         ModifierFlag::SHIFT_R | ModifierFlag::NONE, KeyCode::VK_NONE</autogen>
  <autogen>--KeyToKey-- KeyCode::SEMICOLON, ModifierFlag::SHIFT_R | ModifierFlag::NONE, KeyCode::VK_NONE</autogen>
  <autogen>--KeyToKey-- KeyCode::QUOTE,     ModifierFlag::SHIFT_R | ModifierFlag::NONE, KeyCode::VK_NONE</autogen>
  <autogen>--KeyToKey-- KeyCode::N,         ModifierFlag::SHIFT_R | ModifierFlag::NONE, KeyCode::VK_NONE</autogen>
  <autogen>--KeyToKey-- KeyCode::M,         ModifierFlag::SHIFT_R | ModifierFlag::NONE, KeyCode::VK_NONE</autogen>
  <autogen>--KeyToKey-- KeyCode::COMMA,     ModifierFlag::SHIFT_R | ModifierFlag::NONE, KeyCode::VK_NONE</autogen>
  <autogen>--KeyToKey-- KeyCode::DOT,       ModifierFlag::SHIFT_R | ModifierFlag::NONE, KeyCode::VK_NONE</autogen>

</item>

</root>
